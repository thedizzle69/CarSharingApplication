### Register a normal user (Driver)
POST http://localhost:8080/api/users/register
Content-Type: application/json

{
  "username": "BMWDriver1",
  "password": "NoTurnSignal123",
  "role": "driver"
}

### Register a new fleet-manager
POST http://localhost:8080/api/users/register
Content-Type: application/json

{
  "username": "BigBoss1",
  "password": "BossPW123",
  "role": "fleet-manager"
}

### Login as driver (Retrieve Token)
POST http://localhost:8080/api/users/login
Content-Type: application/json

{
  "username": "BMWDriver1",
  "password": "NoTurnSignal123"
}

> {%
    client.global.set("driver_token", response.body.token || "mock_driver_token");
%}

### Login as fleet manager (Retrieve Token)
POST http://localhost:8080/api/users/login
Content-Type: application/json

{
  "username": "BigBoss1",
  "password": "BossPW123"
}

> {%
    client.global.set("fleet_manager_token", response.body.token || "mock_fleet_manager_token");
%}

### Wrong Login Attempt
POST http://localhost:8080/api/users/login
Content-Type: application/json

{
  "username": "WrongUser",
  "password": "WrongPassword"
}

### Driver trying to retrieve all users (Should fail)
GET http://localhost:8080/api/users
Authorization: Bearer {{driver_token}}

### Fleet manager retrieves all users
GET http://localhost:8080/api/users
Authorization: Bearer {{fleet_manager_token}}

### Fleet manager registers a new vehicle
POST http://localhost:8080/api/vehicles
Content-Type: application/json
Authorization: Bearer {{fleet_manager_token}}

{
  "id": 1,
  "name": "3er BMW",
  "description": "Bavarian car",
  "latitude": 42.0169,
  "longitude": 16.3738,
  "state": "free",
  "currentDriver": null,
  "vehicleToken": "BMW123"
}

### Retrieve all vehicles (Should work for both roles)
GET http://localhost:8080/api/vehicles
Authorization: Bearer {{driver_token}}

### Retrieve a specific vehicle by ID
GET http://localhost:8080/api/vehicles/1
Authorization: Bearer {{driver_token}}

### Driver trying to update a vehicle (Should fail)
PUT http://localhost:8080/api/vehicles/1
Content-Type: application/json
Authorization: Bearer {{driver_token}}

{
  "name": "Updated BMW",
  "description": "Driver should not be able to do this"
}

### Fleet manager updates a vehicle
PUT http://localhost:8080/api/vehicles/1
Content-Type: application/json
Authorization: Bearer {{fleet_manager_token}}

{
  "name": "Updated BMW",
  "description": "Updated description",
  "latitude": 42.0169,
  "longitude": 16.3738,
  "state": "occupied",
  "currentDriver": "BMWDriver1",
  "vehicleToken": "BMW456"
}

### Driver trying to delete a vehicle (Should fail)
DELETE http://localhost:8080/api/vehicles/1
Authorization: Bearer {{driver_token}}

### Fleet manager deletes a vehicle
DELETE http://localhost:8080/api/vehicles/1
Authorization: Bearer {{fleet_manager_token}}